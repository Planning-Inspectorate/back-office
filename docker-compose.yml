# Port ranges (by convention):
#  - API: 3000-3999
#  - Services: 4000-4999
#  - Websites: 9000-9999
#
# Please run `make install` to get the dependencies install

version: "3.7"
services:
  web-app:
    container_name: web-app
    image: node:14-alpine
    ports:
      - 9004:3000
    working_dir: /opt/app
    volumes:
      - ./packages/common:/opt/app/node_modules/@pins/common
      - ./packages/web-app:/opt/app
    command: npm run start:dev
    environment:
      DOCUMENTS_SERVICE_API_URL: http://document-service-api:3000
      LOGGER_LEVEL: 'debug'
    networks:
      - appeal-planning-decision_default
  api:
    container_name: api
    image: node:14-alpine
    ports:
      - 3004:3000
    working_dir: /opt/app
    volumes:
      - ./packages/common:/opt/app/node_modules/@pins/common
      - ./packages/api:/opt/app
    command: npm run start:dev
    networks:
      - appeal-planning-decision_default

networks:
  appeal-planning-decision_default:
    external: true
