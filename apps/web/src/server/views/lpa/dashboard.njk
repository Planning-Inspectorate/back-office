{% extends "_layouts/layout-base.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "_includes/components/InfoBox/InfoBox.njk" import InfoBox %}

{% block header %}
  {{ govukHeader({
    homepageUrl: "https://www.gov.uk/",
    serviceName: "Appeal a planning decision",
    serviceUrl: "/lpa",
    containerClasses: "govuk-width-container"
  }) }}
{% endblock %}

{% block pageTitle %}
	Questionnaires for review
{% endblock %}

{% block content %}
	{%- set tableHeadItems = [
		{ text: "Appeal reference" },
		{ text: "Date due" },
		{ text: "Appeal site" },
		{ text: "Status" }
	] -%}

	{{ super() }}

	<h1 class="govuk-heading-xl">
		Questionnaires for review
	</h1>

	<h2 class="govuk-heading-l govuk-!-margin-bottom-1">
		Incoming questionnaires
	</h2>

	{%- if questionnairesList.incomingQuestionnaires.length > 0 -%}
		{{ govukTable({
			head: tableHeadItems,
			rows: questionnairesList.incomingQuestionnaires | makeQuestionnaireTableRows(reviewQuestionnairePath) })
		}}
	{%- else -%}
		{{ InfoBox("No incoming questionnaires", classes="govuk-!-margin-bottom-8") }}
	{%- endif -%}

	<h2 class="govuk-heading-l govuk-!-margin-bottom-1">
		Incomplete questionnaires
	</h2>

	{%- if questionnairesList.incompleteQuestionnaires.length > 0 -%}
		{{ govukTable({
			head: tableHeadItems,
			rows: questionnairesList.incompleteQuestionnaires | makeQuestionnaireTableRows(reviewQuestionnairePath) })
		}}
	{%- else -%}
		{{ InfoBox("No incomplete questionnaires") }}
	{%- endif -%}
{% endblock %}
