{% extends "layouts/main.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "components/address.njk" import address %}

{% set appealsListDisplayData = [] %}

{% for appeal in appealsListData %}
  {% set appealsListDisplayData = (appealsListDisplayData.push([
    { html: "<a href=\"review-appeal-submission/" + appeal.appealId + "\" class=\"govuk-link\">" + appeal.caseReference + "</a>" },
    { text: appeal.submissionDate | date },
    { text: address({
      addressLine1: appeal.siteAddressLineOne,
      addressLine2: appeal.siteAddressLineTwo,
      town: appeal.siteAddressTown,
      county: appeal.siteAddressCounty,
      postcode: appeal.siteAddressPostCode
    }, true) }
  ]), appealsListDisplayData) %}
{% endfor %}

{% block backButton %}
{% endblock %}

{% block content %}
  <h1 class="govuk-heading-xl">{{ pageTitle }}</h1>

  {{ govukTable({
    head: [
      { text: "Appeal reference" },
      { text: "Received on" },
      { text: "Appeal site" }
    ],
    rows: appealsListDisplayData
  }) }}
{% endblock %}
