{% extends "layouts/form.njk" %}

{% from "components/button.njk" import button %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/fieldset/macro.njk" import govukFieldset %}
{% from "govuk/components/input/macro.njk" import govukInput %}

{% block formContent %}
    {% set addressLine1Id = "site-address-line-one" %}
    {% set addressLine1LabelId = addressLine1Id + "-label" %}
    {% set addressLine1Text = "Building and street" %}
    {{ govukInput({
      label: {
        attributes: {
          id: addressLine1LabelId
        },
        text: addressLine1Text
      },
      id: addressLine1Id,
      value: siteAddressLineOne,
      name: addressLine1Id,
      autocomplete: "address-line1",
      describedBy: addressLine1LabelId,
      attributes: {
        title: addressLine1Text
      },
      errorMessage: errors[addressLine1Id] and {
        text: errors[addressLine1Id].msg
      }
    }) }}

    {% set addressLine2Id = "site-address-line-two" %}
    {% set addressLine2LabelId = addressLine2Id + "-label" %}
    {% set addressLine2Text = "" %}
    {{ govukInput({
      label: {
        attributes: {
          id: addressLine2LabelId
        },
        text: addressLine2Text
      },
      id: addressLine2Id,
      value: siteAddressLineTwo,
      name: addressLine2Id,
      autocomplete: "address-line2",
      describedBy: addressLine2LabelId,
      attributes: {
        title: addressLine2Text
      },
      errorMessage: errors[addressLine2Id] and {
        text: errors[addressLine2Id].msg
      }
    }) }}

    {% set townOrCityId = "site-town-city" %}
    {% set townOrCityLabelId = townOrCityId + "-label" %}
    {% set townOrCityText = "Town or city" %}
    {{ govukInput({
      label: {
        attributes: {
          id: townOrCityLabelId
        },
        text: townOrCityText
      },
      classes: "govuk-!-width-two-thirds",
      id: townOrCityId,
      value: siteAddressTown,
      name: townOrCityId,
      autocomplete: "address-level2",
      describedBy: townOrCityLabelId,
      attributes: {
        title: townOrCityText
      },
      errorMessage: errors[townOrCityId] and {
        text: errors[townOrCityId].msg
      }
    }) }}

    {% set countyId = "site-county" %}
    {% set countyLabelId = countyId + "-label" %}
    {% set countyText = "County" %}
    {{ govukInput({
      label: {
        attributes: {
          id: countyLabelId
        },
        text: countyText
      },
      classes: "govuk-!-width-two-thirds",
      id: countyId,
      value: siteAddressCounty,
      name: countyId,
      describedBy: countyLabelId,
      attributes: {
        title: countyText
      },
      errorMessage: errors[countyId] and {
        text: errors[countyId].msg
      }
    }) }}

    {% set postcodeId = "site-postcode" %}
    {% set postcodeLabelId = postcodeId + "-label" %}
    {% set postcodeText = "Postcode" %}
    {{ govukInput({
      label: {
        attributes: {
          id: postcodeLabelId
        },
        text: "Postcode"
      },
      classes: "govuk-input--width-10",
      id: postcodeId,
      value: siteAddressPostCode,
      name: postcodeId,
      autocomplete: "postal-code",
      describedBy: postcodeLabelId,
      attributes: {
        title: postcodeText
      },
      errorMessage: errors[postcodeId] and {
        text: errors[postcodeId].msg
      }
    }) }}

  {{ button("Save changes") }}
{% endblock %}
